syntax = "proto3";

package usap_smc;

option go_package = "./pb";

// ------------------------------------//
// ------------- Services ------------//
// ----------------------------------//

service UeMeasIndication {
    rpc StreamUeMetrics (StreamUeMetricsRequest) returns (stream StreamUeMetricsResponse);
}

message StreamUeMetricsRequest {
    string client_id = 1; // ID opcional para identificar o cliente
}

message UeMeas {
    string measName = 1;
    oneof measValue {
      int64 valueInt = 2;
      double valueReal = 3;
      bool noValue = 4;
    }
}

message UeList {
    int64 ueID = 1;
    string imsi = 2;
    repeated UeMeas ueMeas = 3;
    int64 granulPeriod = 4;
}

message StreamUeMetricsResponse {
    int64 timestamp_ms = 1;
    double indLatency_ms = 2;
    repeated UeList ueList = 3;
}