################################################################################
#   Copyright (c) 2019 AT&T Intellectual Property.                             #
#                                                                              #
#   Licensed under the Apache License, Version 2.0 (the "License");            #
#   you may not use this file except in compliance with the License.           #
#   You may obtain a copy of the License at                                    #
#                                                                              #
#       http://www.apache.org/licenses/LICENSE-2.0                             #
#                                                                              #
#   Unless required by applicable law or agreed to in writing, software        #
#   distributed under the License is distributed on an "AS IS" BASIS,          #
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
#   See the License for the specific language governing permissions and        #
#   limitations under the License.                                             #
################################################################################'
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
ricplt:
# This section is reserved for values imported from RIC Platform charts
  dbaasService: "service-ricplt-dbaas-tcp.ricplt.svc.cluster.local"
  metricsdbService: "service-metricsdb.ricplt.svc.cluster.local"
  pltIngressUrl: "ricplt-entry"
  xappIngressUrl: "ricxapp-entry"

  appmgrRMRService: "service-ricplt-appmgr-rmr.ricplt.svc.cluster.local"
  e2mgrRMRService: "service-ricplt-e2mgr-rmr.ricplt.svc.cluster.local"
  e2mgrHttpService: "service-ricplt-e2mgr-http.ricplt.svc.cluster.local"
  e2termRMRService: "service-ricplt-e2term-rmr-alpha.ricplt.svc.cluster.local"
  rtmgrRMRService: "service-ricplt-rtmgr-rmr.ricplt.svc.cluster.local"
  a1mediatorRMRService: "service-ricplt-a1mediator-rmr.ricplt.svc.cluster.local"

e2sm_service:
  e2smServiceHost: "127.0.0.1"
  e2smServicePort: 5051

# Location of the xApp config files injected from the xApp descriptor
appconfig:
    path: /opt/ric/config

# Location of volume based on HostPath of type Directory
storage:
    mountPath: /home/kpm/storage

# Number of replica
replicaCount: 1

# Image pulling policy
image_pull_policy: Always

nodeSelector: 
  kubernetes.io/hostname: nrtric

# Environment variables that will be injected
appenv: {}

# Liveness probe definition. If empty, liveness probe will be disabled
livenessProbe:
  httpGet:
    path: ric/v1/health/alive
    port: 8080
  initialDelaySeconds: 5
  periodSeconds: 15

# Readiness probe definition. If empty, readiness probe will be disabled
readinessProbe:
  httpGet:
    path: ric/v1/health/ready
    port: 8080
  initialDelaySeconds: 5
  periodSeconds: 15

# Instance name. If empty, chart name will be used
name: usap-xapp

# Full instance name. If empty, full name will be constructed from name
fullname: {}

########################### For USAP-SMC ###########################
usap_smc:
  replicaCount: 1
  imagePullPolicy: Always
  image:
    registry: docker.io
    name: muriloavlis/usap-smc
    tag: latest
  config:
    logger:
      level: INFO

###############    The following are from the xApp descriptor     ###############
appVersion: 0.0.1
containers:
- name: usap-e2sm
  image:
    name: muriloavlis/usap-e2sm
    registry: docker.io
    tag: latest
- name: usap-xapp
  image:
    name: muriloavlis/usap-xapp
    registry: docker.io
    tag: latest
controls:
  active: true
  emulatedScenario: true
  interfaceId:
    globalGNBId:
      plmnId: 00101
  localAddress:
    host: :8080
  logger:
    level: 4
  measurement_interval: 1000
  subscription:
    subscriptionActive: true
    e2sm:
      - name: "KPM"
        reporting_period: 1000
        granularity_period: 1000
        report_style_type: 4
        ue_list:
          - imsi: "001010000021002"
          - imsi: "901700000041589"
      - name: "RC" # TODO
coredb:
  dbname: oai_db
  hostname: mysql.oai5gcn
  password: test
  port: '3306'
  username: test
db:
  maxActive: 100
  maxIdle: 50
  waitForSdl: false
faults: {}
measurements:
  - moId: "usap-xapp"
    measType: "E2SM_KPM"
    measId: "00101"
    measInterval: "1"
    metrics:
      - objectName: "DRB_AirIfDelayUl"
        objectInstance: "DRB_AirIfDelayUl"
        name: "ricxapp_usap_DRB_AirIfDelayUl"
        type: "counter"
        description: ""
      - objectName: "DRB.PacketSuccessRateUlgNBUu"
        objectInstance: "DRB.PacketSuccessRateUlgNBUu"
        name: "ricxapp_usap_DRB.PacketSuccessRateUlgNBUu"
        type: "counter"
        description: ""
      - objectName: "DRB.RlcDelayUl"
        objectInstance: "DRB.RlcDelayUl"
        name: "ricxapp_usap_DRB.RlcDelayUl"
        type: "counter"
        description: ""
      - objectName: "DRB.RlcPacketDropRateDl"
        objectInstance: "DRB.RlcPacketDropRateDl"
        name: "ricxapp_usap_DRB.RlcPacketDropRateDl"
        type: "counter"
        description: ""
      - objectName: "DRB.RlcSduDelayDl"
        objectInstance: "DRB.RlcSduDelayDl"
        name: "ricxapp_usap_DRB.RlcSduDelayDl"
        type: "counter"
        description: ""
      - objectName: "DRB.RlcSduTransmittedVolumeDL"
        objectInstance: "DRB.RlcSduTransmittedVolumeDL"
        name: "ricxapp_usap_DRB.RlcSduTransmittedVolumeDL"
        type: "counter"
        description: ""
      - objectName: "DRB.RlcSduTransmittedVolumeUL"
        objectInstance: "DRB.RlcSduTransmittedVolumeUL"
        name: "ricxapp_usap_DRB.RlcSduTransmittedVolumeUL"
        type: "counter"
        description: ""
      - objectName: "DRB.UEThpDl"
        objectInstance: "DRB.UEThpDl"
        name: "ricxapp_usap_DRB.UEThpDl"
        type: "counter"
        description: ""
      - objectName: "DRB.UEThpUl"
        objectInstance: "DRB.UEThpUl"
        name: "ricxapp_usap_DRB.UEThpUl"
        type: "counter"
        description: ""
      - objectName: "RRU.PrbAvailDl"
        objectInstance: "RRU.PrbAvailDl"
        name: "ricxapp_usap_RRU.PrbAvailDl"
        type: "counter"
        description: ""
      - objectName: "RRU.PrbAvailUl"
        objectInstance: "RRU.PrbAvailUl"
        name: "ricxapp_usap_RRU.PrbAvailUl"
        type: "counter"
        description: ""
      - objectName: "RRU.PrbTotDl"
        objectInstance: "RRU.PrbTotDl"
        name: "ricxapp_usap_RRU.PrbTotDl"
        type: "counter"
        description: ""
      - objectName: "RRU.PrbTotUl"
        objectInstance: "RRU.PrbTotUl"
        name: "ricxapp_usap_RRU.PrbTotUl"
        type: "counter"
        description: ""
      - objectName: "RRU.PrbUsedDl"
        objectInstance: "RRU.PrbUsedDl"
        name: "ricxapp_usap_RRU.PrbUsedDl"
        type: "counter"
        description: ""
      - objectName: "RRU.PrbUsedUl"
        objectInstance: "RRU.PrbUsedUl"
        name: "ricxapp_usap_RRU.PrbUsedUl"
        type: "counter"
        description: ""
messaging:
  ports:
  - container: usap-xapp
    description: http service
    name: http
    port: 8080
  - container: usap-xapp
    description: gRPC service
    name: grpc
    port: 5052
  - container: usap-xapp
    description: rmr data port for usap-xapp
    maxSize: 65536
    name: rmr-data
    numWorkers: 1
    policies: []
    port: 4560
    protocol: tcp
    rxMessages:
    - RIC_SUB_RESP
    - RIC_SUB_FAILURE
    - RIC_SUB_DEL_RESP
    - RIC_INDICATION
    txMessages:
    - RIC_SUB_REQ
    - RIC_SUB_DEL_REQ
  - container: usap-xapp
    description: rmr route port for usap-xapp
    name: rmr-route
    port: 4561
metrics:
  namespace: ricxapp
  url: /ric/v1/metrics
rmr:
  maxSize: 2072
  numWorkers: 1
  policies: []
  protPort: tcp:4560
  rxMessages:
  - RIC_SUB_RESP
  - RIC_INDICATION
  - RIC_HEALTH_CHECK_REQ
  txMessages:
  - RIC_SUB_REQ
  - RIC_HEALTH_CHECK_RESP
vendor: Murilo Silva <murilosilva@itec.ufpa.br>
version: 0.0.1
